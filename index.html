<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz dos Curiosos - Guia dos Curiosos</title>
    <link rel="icon" type="image/png" href="https://www.guiadoscuriosos.com.br/wp-content/uploads/2020/05/cropped-favicon_guia-dos-curiosos_v3-1-180x180.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce {
            animation: bounce 1s infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes ping {
            75%, 100% {
                transform: scale(2);
                opacity: 0;
            }
        }
        .animate-ping {
            animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }

        .perspective-1000 {
            perspective: 1000px;
        }

        .transform-3d {
            transform-style: preserve-3d;
        }

        /* Background pattern */
        .bg-pattern {
            background-image: url('https://wallpapers.com/images/hd/blue-and-orange-background-1920-x-1200-aasgzvw4rlvwpqpx.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* Overlay para suavizar o fundo */
        .bg-overlay {
            background: rgba(255, 255, 255, 0.92);
        }

        /* Transi√ß√£o da roleta */
        #roletaSvg {
            transition: transform 0.3s ease;
        }

        #roletaSvg.spinning {
            transition: transform 3.5s cubic-bezier(0.17, 0.67, 0.12, 0.99);
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        // Cores por categoria - baseadas nas capas dos livros do Guia dos Curiosos
        const CATEGORIAS = {
            'Animais': { cor: '#1D9BF0', corClara: '#E0F2FE', emoji: 'ü¶Å' },
            'Cultura e Entretenimento': { cor: '#8B5CF6', corClara: '#EDE9FE', emoji: 'üé≠' },
            'Ci√™ncia e Sa√∫de': { cor: '#1D9BF0', corClara: '#E0F2FE', emoji: 'üî¨' },
            'Datas e Festas': { cor: '#F77F00', corClara: '#FFEDD5', emoji: 'üéâ' },
            'Esportes': { cor: '#1D9BF0', corClara: '#E0F2FE', emoji: '‚öΩ' },
            'Geek e Mundo Nerd': { cor: '#E63946', corClara: '#FEE2E2', emoji: 'üéÆ' },
            'Livros': { cor: '#F77F00', corClara: '#FFEDD5', emoji: 'üìö' },
            'Variedades': { cor: '#2A9D8F', corClara: '#D1FAE5', emoji: '‚ú®' }
        };

        const PERGUNTAS = {
            'Ci√™ncia e Sa√∫de': [
                {
                    pergunta: 'Por que o c√©u √© azul?',
                    opcoes: ['Reflexo dos oceanos', 'Dispers√£o de Rayleigh', 'Gases azuis na atmosfera', 'Ilus√£o de √≥tica'],
                    correta: 1,
                    explicacao: 'O c√©u √© azul devido √† dispers√£o de Rayleigh. A luz azul tem comprimento de onda menor e se espalha mais que outras cores!'
                },
                {
                    pergunta: '√Ågua pura conduz eletricidade?',
                    opcoes: ['Sim, muito bem', 'N√£o, √© p√©ssima condutora', 'S√≥ √°gua salgada conduz', 'S√≥ √°gua quente conduz'],
                    correta: 1,
                    explicacao: '√Ågua pura (H2O) √© p√©ssima condutora! S√£o os minerais dissolvidos que tornam a √°gua condutora.'
                },
                {
                    pergunta: 'Quanto pesa uma nuvem comum?',
                    opcoes: ['Cerca de 100 kg', 'Cerca de 10.000 kg', 'Cerca de 500.000 kg', 'Nuvens n√£o pesam nada'],
                    correta: 2,
                    explicacao: 'Uma nuvem cumulus m√©dia pesa cerca de 500.000 kg - equivalente a 100 elefantes!'
                },
                {
                    pergunta: 'Bananas s√£o radioativas?',
                    opcoes: ['Sim, cont√™m pot√°ssio-40', 'N√£o, isso √© mito', 'S√≥ bananas verdes', 'S√≥ bananas org√¢nicas'],
                    correta: 0,
                    explicacao: 'Sim! Bananas cont√™m pot√°ssio-40, um is√≥topo radioativo natural. Mas √© completamente inofensivo!'
                },
                {
                    pergunta: 'Por que bocejamos?',
                    opcoes: ['Por falta de oxig√™nio', 'Por t√©dio apenas', 'Para resfriar o c√©rebro', 'Por cansa√ßo muscular'],
                    correta: 2,
                    explicacao: 'Bocejamos principalmente para resfriar o c√©rebro e aumentar o estado de alerta!'
                }
            ],
            'Animais': [
                {
                    pergunta: 'Gatos sempre caem de p√©?',
                    opcoes: ['Sim, sempre', 'N√£o, √© mito', 'Sim, por reflexo de endireitamento', 'S√≥ gatos adultos'],
                    correta: 2,
                    explicacao: 'Sim! Gatos t√™m o reflexo de endireitamento gra√ßas √† coluna flex√≠vel e aus√™ncia de clav√≠cula funcional.'
                },
                {
                    pergunta: 'Quantos dentes um tubar√£o pode ter ao longo da vida?',
                    opcoes: ['Cerca de 1.000', 'Cerca de 5.000', 'Cerca de 30.000', 'Cerca de 100.000'],
                    correta: 2,
                    explicacao: 'Tubar√µes podem perder e repor mais de 30.000 dentes ao longo da vida!'
                },
                {
                    pergunta: 'Polvos t√™m quantos cora√ß√µes?',
                    opcoes: ['Um cora√ß√£o', 'Dois cora√ß√µes', 'Tr√™s cora√ß√µes', 'Cinco cora√ß√µes'],
                    correta: 2,
                    explicacao: 'Polvos t√™m tr√™s cora√ß√µes: dois bombeiam sangue pelas br√¢nquias e um para o resto do corpo!'
                },
                {
                    pergunta: 'Por que camale√µes mudam de cor?',
                    opcoes: ['Para camuflagem apenas', 'Para comunica√ß√£o e temperatura', 'Por medo', 'Por idade'],
                    correta: 1,
                    explicacao: 'Camale√µes mudam de cor principalmente para comunica√ß√£o e regula√ß√£o t√©rmica, n√£o camuflagem!'
                },
                {
                    pergunta: 'Por que chocolate faz mal para cachorros?',
                    opcoes: ['Por causa do a√ß√∫car', 'Por causa da teobromina', 'Por causa da gordura', 'N√£o faz mal'],
                    correta: 1,
                    explicacao: 'A teobromina do cacau √© t√≥xica para c√£es, pois eles metabolizam muito lentamente!'
                }
            ],
            'Cultura e Entretenimento': [
                {
                    pergunta: 'A Coca-Cola original continha coca√≠na?',
                    opcoes: ['N√£o, √© mito urbano', 'Sim, at√© 1903', 'S√≥ na vers√£o europeia', 'Sim, at√© hoje'],
                    correta: 1,
                    explicacao: 'Sim! A f√≥rmula original de 1886 continha extrato de folha de coca. Foi removido em 1903.'
                },
                {
                    pergunta: 'Qual foi a primeira fotografia do mundo?',
                    opcoes: ['Retrato de fam√≠lia', 'Paisagem de guerra', 'Vista de uma janela', 'Autorretrato'],
                    correta: 2,
                    explicacao: 'A primeira foto foi "Vista da Janela em Le Gras" por Ni√©pce em 1826/1827, com 8 horas de exposi√ß√£o!'
                }
            ],
            'Geek e Mundo Nerd': [
                {
                    pergunta: 'Quando nasceu a Internet?',
                    opcoes: ['1969 (ARPANET)', '1983 (TCP/IP)', '1991 (WWW)', '1995 (Comercial)'],
                    correta: 0,
                    explicacao: 'A Internet nasceu em 1969 com a ARPANET. A primeira mensagem foi "LO" (tentaram "LOGIN" mas travou)!'
                },
                {
                    pergunta: 'O que √© um buraco negro?',
                    opcoes: ['Buraco no espa√ßo', 'Estrela muito escura', 'Regi√£o de gravidade extrema', 'Portal dimensional'],
                    correta: 2,
                    explicacao: 'Buraco negro √© uma regi√£o onde a gravidade √© t√£o intensa que nem a luz escapa!'
                }
            ],
            'Variedades': [
                {
                    pergunta: 'De onde vem o nome "Brasil"?',
                    opcoes: ['Nome ind√≠gena', 'Do pau-brasil', 'Homenagem a navegador', 'Palavra portuguesa antiga'],
                    correta: 1,
                    explicacao: 'O nome Brasil vem do pau-brasil, √°rvore abundante na costa, cuja madeira era valiosa na Europa!'
                },
                {
                    pergunta: 'Raios podem cair no mesmo lugar duas vezes?',
                    opcoes: ['N√£o, √© imposs√≠vel', 'Sim, frequentemente', 'S√≥ em tempestades fortes', 'S√≥ no oceano'],
                    correta: 1,
                    explicacao: 'Sim! O Empire State Building √© atingido cerca de 25 vezes por ano!'
                },
                {
                    pergunta: 'Mel estraga?',
                    opcoes: ['Sim, em 1 ano', 'N√£o, nunca estraga', 'S√≥ mel de abelha', 'S√≥ se aberto'],
                    correta: 1,
                    explicacao: 'Mel nunca estraga! Foi encontrado mel comest√≠vel em tumbas eg√≠pcias com 3.000 anos!'
                },
                {
                    pergunta: 'Compartilhamos 50% do DNA com bananas?',
                    opcoes: ['N√£o, isso √© absurdo', 'Sim, √© verdade', 'S√≥ 10%', 'S√≥ 90%'],
                    correta: 1,
                    explicacao: 'Sim! Compartilhamos 50-60% dos genes com bananas - s√£o genes de fun√ß√µes celulares b√°sicas!'
                }
            ]
        };

        // Estado do jogo
        let state = {
            fase: 'inicio',
            girando: false,
            categoriaAtual: null,
            cartaSelecionada: null,
            perguntaAtual: null,
            respostaSelecionada: null,
            mostrarResultado: false,
            pontos: 0,
            rodada: 1,
            acertos: 0,
            anguloRoleta: 0
        };

        // √çcones SVG
        const icons = {
            sparkles: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>',
            trophy: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>',
            target: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',
            rotateCw: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>',
            check: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>',
            x: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',
            zap: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"/></svg>',
            star: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>',
            award: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"/><circle cx="12" cy="8" r="6"/></svg>'
        };

        function render() {
            const app = document.getElementById('app');
            app.innerHTML = getHTML();
        }

        function getHTML() {
            if (state.fase === 'inicio') return telaInicio();
            if (state.fase === 'roleta') return telaRoleta();
            if (state.fase === 'escolhaCarta') return telaEscolhaCarta();
            if (state.fase === 'quiz') return telaQuiz();
        }

        function telaInicio() {
            return `
                <div class="min-h-screen relative overflow-hidden bg-pattern">
                    <!-- Overlay para suavizar o fundo -->
                    <div class="absolute inset-0 bg-overlay"></div>

                    <div class="relative z-10 min-h-screen flex flex-col items-center justify-center p-4">
                        <!-- Logo do Quiz dos Curiosos -->
                        <div class="mb-8">
                            <img 
                                src="https://i.imgur.com/chJrYgg.png" 
                                alt="Quiz dos Curiosos" 
                                class="w-96 h-auto drop-shadow-2xl"
                                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                            />
                            <div style="display: none;" class="text-center">
                                <h1 class="text-6xl font-black mb-2" style="color: #2C3E7E;">
                                    <span style="color: #FFC107;">QUIZ</span><br>
                                    <span style="color: #FFC107;">dos</span><br>
                                    <span style="color: #FFC107;">CURIOSOS</span>
                                </h1>
                                <div class="text-lg font-bold" style="color: #F77F00;">MARCELO DUARTE</div>
                            </div>
                        </div>

                        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border-4" style="border-color: #1D9BF0;">
                            <div class="mb-6">
                                <h2 class="text-2xl font-bold mb-3" style="color: #2C3E7E;">Como Jogar</h2>
                                <div class="text-left space-y-3">
                                    ${[
                                        { icon: 'üé°', text: 'Gire a roleta colorida das categorias' },
                                        { icon: 'üé¥', text: 'Escolha uma carta misteriosa √†s cegas' },
                                        { icon: '‚ùì', text: 'Responda a pergunta revelada' },
                                        { icon: 'üíØ', text: 'Ganhe 100 pontos por cada acerto!' }
                                    ].map((item, i) => `
                                        <div class="flex items-start gap-3 hover:translate-x-2 transition-transform">
                                            <div class="rounded-full w-8 h-8 flex items-center justify-center text-lg font-bold shadow-lg" style="background-color: #F77F00; color: white;">
                                                ${i + 1}
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <span class="text-2xl">${item.icon}</span>
                                                <span class="font-medium" style="color: #2C3E7E;">${item.text}</span>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>

                            <div class="flex justify-center gap-2 mb-6 flex-wrap">
                                ${[
                                    { icon: 'zap', text: 'R√°pido' },
                                    { icon: 'star', text: 'Divertido' },
                                    { icon: 'award', text: 'Educativo' }
                                ].map(badge => `
                                    <div class="px-4 py-2 rounded-full flex items-center gap-2 font-semibold text-sm border-2" style="background-color: #E0F2FE; border-color: #1D9BF0; color: #2C3E7E;">
                                        <div class="w-4 h-4">${icons[badge.icon]}</div>
                                        ${badge.text}
                                    </div>
                                `).join('')}
                            </div>
                            
                            <button
                                onclick="comecarJogo()"
                                class="w-full text-white py-5 rounded-2xl font-bold text-xl shadow-2xl transition-all duration-300 hover:scale-105"
                                style="background: linear-gradient(135deg, #1D9BF0 0%, #F77F00 100%);"
                            >
                                <div class="flex items-center justify-center gap-3">
                                    <div class="w-6 h-6">${icons.sparkles}</div>
                                    <span>Come√ßar Jogo!</span>
                                    <div class="w-6 h-6">${icons.sparkles}</div>
                                </div>
                            </button>

                            <p class="text-gray-500 text-xs mt-4">¬© Guia dos Curiosos - Marcelo Duarte</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function telaRoleta() {
            const categorias = Object.keys(CATEGORIAS).filter(cat => PERGUNTAS[cat] && PERGUNTAS[cat].length > 0);
            const numCategorias = categorias.length;
            const anguloFatia = 360 / numCategorias;
            
            let fatiasSVG = '';
            categorias.forEach((cat, index) => {
                const startAngle = (anguloFatia * index - 90) * (Math.PI / 180);
                const endAngle = (anguloFatia * (index + 1) - 90) * (Math.PI / 180);
                const middleAngle = (startAngle + endAngle) / 2;
                
                const x1 = 200 + 190 * Math.cos(startAngle);
                const y1 = 200 + 190 * Math.sin(startAngle);
                const x2 = 200 + 190 * Math.cos(endAngle);
                const y2 = 200 + 190 * Math.sin(endAngle);
                
                const largeArcFlag = anguloFatia > 180 ? 1 : 0;
                const pathData = `M 200 200 L ${x1} ${y1} A 190 190 0 ${largeArcFlag} 1 ${x2} ${y2} Z`;
                
                const textRadius = 120;
                const textX = 200 + textRadius * Math.cos(middleAngle);
                const textY = 200 + textRadius * Math.sin(middleAngle);
                const textAngle = (anguloFatia * index + anguloFatia / 2);
                
                const emojiRadius = 150;
                const emojiX = 200 + emojiRadius * Math.cos(middleAngle);
                const emojiY = 200 + emojiRadius * Math.sin(middleAngle);
                
                const palavras = cat.split(' ');
                let tspans = '';
                palavras.forEach((palavra, i) => {
                    tspans += `<tspan x="${textX}" dy="${i === 0 ? 0 : 15}">${palavra.toUpperCase()}</tspan>`;
                });
                
                fatiasSVG += `
                    <g>
                        <path d="${pathData}" fill="${CATEGORIAS[cat].cor}" stroke="white" stroke-width="4" />
                        <text x="${emojiX}" y="${emojiY}" font-size="32" text-anchor="middle" dominant-baseline="middle" transform="rotate(${textAngle}, ${emojiX}, ${emojiY})">
                            ${CATEGORIAS[cat].emoji}
                        </text>
                        <text x="${textX}" y="${textY}" fill="white" font-size="13" font-weight="800" text-anchor="middle" dominant-baseline="middle" transform="rotate(${textAngle}, ${textX}, ${textY})" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">
                            ${tspans}
                        </text>
                    </g>
                `;
            });

            return `
                <div class="min-h-screen bg-pattern relative overflow-hidden">
                    <div class="absolute inset-0 bg-overlay"></div>
                    
                    <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
                        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full border-4" style="border-color: #1D9BF0;">
                            <div class="flex justify-between items-center mb-8">
                                <div class="space-y-1">
                                    <div class="text-sm font-semibold flex items-center gap-2" style="color: #1D9BF0;">
                                        <div class="w-2 h-2 rounded-full animate-pulse" style="background-color: #1D9BF0;"></div>
                                        Rodada ${state.rodada}
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <div class="p-2 rounded-lg" style="background-color: #F77F00;">
                                            <div class="w-5 h-5 text-white">${icons.trophy}</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-black" style="color: #2C3E7E;">${state.pontos}</div>
                                            <div class="text-xs text-gray-500">pontos</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-right space-y-1">
                                    <div class="text-sm font-semibold" style="color: #2A9D8F;">Taxa de acerto</div>
                                    <div class="flex items-center gap-2">
                                        <div class="p-2 rounded-lg" style="background-color: #2A9D8F;">
                                            <div class="w-5 h-5 text-white">${icons.target}</div>
                                        </div>
                                        <div>
                                            <div class="text-2xl font-black" style="color: #2C3E7E;">${state.acertos}</div>
                                            <div class="text-xs text-gray-500">acertos</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center mb-6">
                                <h2 class="text-4xl font-black mb-2" style="color: #2C3E7E;">Gire a Roleta!</h2>
                                <p class="font-medium" style="color: #F77F00;">Clique na roleta ou no bot√£o abaixo</p>
                            </div>

                            <div class="relative w-96 h-96 mx-auto mb-8">
                                <div class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-4 z-20" style="pointer-events: none;">
                                    <div class="relative">
                                        <div class="w-0 h-0" style="border-left: 22px solid transparent; border-right: 22px solid transparent; border-top: 40px solid #F77F00;"></div>
                                        <div class="absolute -bottom-2 left-1/2 -translate-x-1/2">
                                            <div class="relative w-10 h-10 rounded-full border-4 border-white shadow-2xl flex items-center justify-center" style="background-color: #F77F00;">
                                                <div class="w-2 h-2 bg-white rounded-full animate-ping"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="relative w-full h-full">
                                    <div class="absolute inset-0 rounded-full border-8 border-white shadow-2xl"></div>
                                    
                                    <svg
                                        id="roletaSvg"
                                        viewBox="0 0 400 400"
                                        class="w-full h-full ${state.girando ? '' : 'cursor-pointer'} ${state.girando ? 'spinning' : ''}"
                                        style="transform: rotate(${state.anguloRoleta}deg); filter: drop-shadow(0 10px 30px rgba(0,0,0,0.2));"
                                        onclick="${state.girando ? '' : 'girarRoleta()'}"
                                    >
                                        <circle cx="200" cy="200" r="198" fill="white"/>
                                        ${fatiasSVG}
                                        <circle cx="200" cy="200" r="55" fill="white" stroke="#dee2e6" stroke-width="3" />
                                        <circle cx="200" cy="200" r="50" fill="#f8f9fa" />
                                        ${!state.girando ? 
                                            '<text x="200" y="215" font-size="36" text-anchor="middle">üé≤</text>' :
                                            '<circle cx="200" cy="200" r="25" fill="#1D9BF0" opacity="0.2"><animate attributeName="r" values="25;35;25" dur="1s" repeatCount="indefinite" /></circle>'
                                        }
                                    </svg>
                                </div>
                            </div>

                            ${state.categoriaAtual && !state.girando ? `
                                <div class="text-center mb-6">
                                    <div class="inline-block relative">
                                        <div class="relative px-8 py-4 rounded-full text-white font-black text-2xl shadow-2xl flex items-center gap-3 animate-bounce" style="background-color: ${CATEGORIAS[state.categoriaAtual].cor};">
                                            <div class="w-6 h-6">${icons.sparkles}</div>
                                            <span>${CATEGORIAS[state.categoriaAtual].emoji} ${state.categoriaAtual}</span>
                                            <div class="w-6 h-6">${icons.sparkles}</div>
                                        </div>
                                    </div>
                                </div>
                            ` : ''}

                            <button
                                onclick="girarRoleta()"
                                ${state.girando ? 'disabled' : ''}
                                class="w-full text-white py-5 rounded-2xl font-bold text-xl shadow-2xl transition-all duration-300 hover:scale-105 disabled:opacity-50"
                                style="background: linear-gradient(135deg, #1D9BF0 0%, #F77F00 100%);"
                            >
                                <div class="flex items-center justify-center gap-3">
                                    ${state.girando ? `
                                        <div class="w-6 h-6 animate-spin">${icons.rotateCw}</div>
                                        <span>Girando...</span>
                                    ` : `
                                        <div class="w-6 h-6">${icons.sparkles}</div>
                                        <span>Girar Roleta!</span>
                                        <div class="w-6 h-6">${icons.sparkles}</div>
                                    `}
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function telaEscolhaCarta() {
            const cor = CATEGORIAS[state.categoriaAtual];
            const numCartas = Math.min(5, PERGUNTAS[state.categoriaAtual]?.length || 5);

            let cartasHTML = '';
            for (let i = 0; i < numCartas; i++) {
                const selecionada = state.cartaSelecionada === i;
                
                cartasHTML += `
                    <button 
                        onclick="escolherCarta(${i})" 
                        ${state.cartaSelecionada !== null ? 'disabled' : ''}
                        class="relative group transform-gpu transition-all duration-500 transform-3d"
                        style="transform: ${selecionada ? 'scale(1.15) translateY(-20px) rotateY(180deg)' : state.cartaSelecionada !== null ? 'scale(0.9) opacity(0.5)' : 'scale(1)'};"
                    >
                        <div class="relative w-36 h-52 rounded-2xl shadow-2xl transition-all duration-500 border-4 ${selecionada ? '' : 'hover:scale-110 hover:-translate-y-4'}" style="background: ${selecionada ? 'white' : cor.cor}; border-color: white;">
                            ${!selecionada ? `
                                <div class="w-full h-full flex flex-col items-center justify-center p-6 relative overflow-hidden">
                                    <div class="absolute inset-0 opacity-10">
                                        <div class="absolute inset-0" style="background-image: radial-gradient(circle, white 1px, transparent 1px); background-size: 20px 20px;"></div>
                                    </div>
                                    
                                    <div class="relative z-10">
                                        <div class="w-24 h-24 mb-4 mx-auto rounded-full bg-white/30 backdrop-blur-sm p-3 flex items-center justify-center">
                                            <img 
                                                src="https://www.guiadoscuriosos.com.br/wp-content/uploads/2020/05/cropped-favicon_guia-dos-curiosos_v3-1-180x180.png" 
                                                alt="?" 
                                                class="w-full h-full object-contain"
                                                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                                            />
                                            <div style="display: none;" class="text-6xl">‚ùì</div>
                                        </div>
                                        
                                        <div class="space-y-2">
                                            <div class="w-full h-1.5 bg-white/40 rounded-full"></div>
                                            <div class="w-3/4 h-1.5 bg-white/30 rounded-full mx-auto"></div>
                                            <div class="w-full h-1.5 bg-white/40 rounded-full"></div>
                                        </div>
                                    </div>

                                    <div class="absolute top-3 right-3 w-10 h-10 bg-white/20 rounded-full flex items-center justify-center font-black text-white text-lg backdrop-blur-sm border-2 border-white/40">
                                        ${i + 1}
                                    </div>
                                </div>
                            ` : `
                                <div class="w-full h-full flex flex-col items-center justify-center p-6 relative overflow-hidden" style="background: linear-gradient(135deg, ${cor.corClara} 0%, white 100%);">
                                    <div class="relative z-10">
                                        <div class="text-7xl animate-bounce mb-4">‚ùì</div>
                                        <div class="font-bold" style="color: ${cor.cor};">Pergunta</div>
                                        <div class="font-bold" style="color: ${cor.cor};">#${i + 1}</div>
                                    </div>
                                </div>
                            `}
                        </div>

                        ${!selecionada && state.cartaSelecionada === null ? `
                            <div class="absolute -bottom-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity">
                                <div class="px-4 py-2 rounded-full text-sm font-bold whitespace-nowrap text-white shadow-lg" style="background-color: #2C3E7E;">
                                    Clique aqui! üëÜ
                                </div>
                            </div>
                        ` : ''}
                    </button>
                `;
            }

            return `
                <div class="min-h-screen bg-pattern relative overflow-hidden">
                    <div class="absolute inset-0 bg-overlay"></div>

                    <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
                        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-5xl w-full border-4" style="border-color: #1D9BF0;">
                            <div class="flex justify-between items-center mb-8">
                                <div class="flex items-center gap-4">
                                    <div class="p-3 rounded-xl shadow-lg" style="background-color: #F77F00;">
                                        <div class="w-6 h-6 text-white">${icons.trophy}</div>
                                    </div>
                                    <div>
                                        <div class="text-sm font-semibold text-gray-500">Rodada ${state.rodada}</div>
                                        <div class="text-3xl font-black" style="color: #2C3E7E;">${state.pontos} pts</div>
                                    </div>
                                </div>
                                <div class="px-8 py-4 rounded-2xl text-white font-black text-xl shadow-xl flex items-center gap-3" style="background-color: ${cor.cor};">
                                    <span class="text-3xl">${cor.emoji}</span>
                                    <span>${state.categoriaAtual}</span>
                                </div>
                            </div>

                            <div class="text-center mb-4">
                                <h2 class="text-5xl font-black mb-3" style="color: #2C3E7E;">Escolha uma Carta</h2>
                                <p class="text-lg font-medium flex items-center justify-center gap-2" style="color: #F77F00;">
                                    <div class="w-5 h-5">${icons.sparkles}</div>
                                    Clique em uma carta para revelar a pergunta
                                    <div class="w-5 h-5">${icons.sparkles}</div>
                                </p>
                            </div>

                            <div class="flex justify-center gap-6 mb-8 flex-wrap perspective-1000">
                                ${cartasHTML}
                            </div>

                            ${state.cartaSelecionada === null ? `
                                <div class="text-center">
                                    <div class="inline-block px-6 py-3 rounded-full border-2" style="background-color: #E0F2FE; border-color: #1D9BF0;">
                                        <p class="font-semibold flex items-center gap-2" style="color: #2C3E7E;">
                                            <div class="w-4 h-4" style="color: #F77F00;">${icons.sparkles}</div>
                                            Passe o mouse sobre as cartas para ver o efeito!
                                            <div class="w-4 h-4" style="color: #F77F00;">${icons.sparkles}</div>
                                        </p>
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function telaQuiz() {
            const cor = CATEGORIAS[state.categoriaAtual];
            
            let opcoesHTML = '';
            state.perguntaAtual.opcoes.forEach((opcao, index) => {
                const isCorreta = index === state.perguntaAtual.correta;
                const isSelecionada = index === state.respostaSelecionada;
                
                let bgColor = '#F8F9FA';
                let borderColor = '#DEE2E6';
                let textColor = '#2C3E7E';
                let icon = '';
                
                if (state.mostrarResultado) {
                    if (isCorreta) {
                        bgColor = '#D1FAE5';
                        borderColor = '#2A9D8F';
                        textColor = '#064E3B';
                        icon = `<div class="flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center shadow-lg" style="background-color: #2A9D8F;"><div class="w-7 h-7 text-white">${icons.check}</div></div>`;
                    } else if (isSelecionada) {
                        bgColor = '#FEE2E2';
                        borderColor = '#E63946';
                        textColor = '#7F1D1D';
                        icon = `<div class="flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center shadow-lg" style="background-color: #E63946;"><div class="w-7 h-7 text-white">${icons.x}</div></div>`;
                    }
                }

                const letterBg = state.mostrarResultado && isCorreta ? '#2A9D8F' : state.mostrarResultado && isSelecionada ? '#E63946' : '#1D9BF0';

                opcoesHTML += `
                    <button
                        onclick="${state.mostrarResultado ? '' : `responder(${index})`}"
                        ${state.mostrarResultado ? 'disabled' : ''}
                        class="rounded-2xl p-5 text-left font-bold transition-all duration-300 transform hover:scale-105 disabled:cursor-not-allowed disabled:transform-none relative overflow-hidden shadow-lg hover:shadow-xl border-4"
                        style="background-color: ${bgColor}; border-color: ${borderColor}; color: ${textColor};"
                    >
                        <div class="relative flex items-center justify-between gap-4">
                            <div class="flex items-center gap-3 flex-1">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center font-black text-lg flex-shrink-0 text-white" style="background-color: ${letterBg};">
                                    ${String.fromCharCode(65 + index)}
                                </div>
                                <span class="text-lg leading-snug">${opcao}</span>
                            </div>
                            ${icon}
                        </div>
                    </button>
                `;
            });

            return `
                <div class="min-h-screen bg-pattern relative overflow-hidden">
                    <div class="absolute inset-0 bg-overlay"></div>

                    <div class="relative z-10 min-h-screen flex items-center justify-center p-4">
                        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-4xl w-full border-4" style="border-color: #1D9BF0;">
                            <div class="flex justify-between items-center mb-8">
                                <div class="flex items-center gap-3">
                                    <div class="p-3 rounded-xl shadow-lg" style="background-color: #F77F00;">
                                        <div class="w-6 h-6 text-white">${icons.trophy}</div>
                                    </div>
                                    <div>
                                        <div class="text-sm font-semibold text-gray-500">Rodada ${state.rodada}</div>
                                        <div class="text-3xl font-black" style="color: #2C3E7E;">${state.pontos} pts</div>
                                    </div>
                                </div>
                                <div class="px-6 py-3 rounded-2xl text-white font-bold text-lg shadow-lg flex items-center gap-2" style="background-color: ${cor.cor};">
                                    <span class="text-2xl">${cor.emoji}</span>
                                    <span>${state.categoriaAtual}</span>
                                </div>
                            </div>

                            <div class="relative mb-8">
                                <div class="rounded-3xl p-8 shadow-2xl border-4" style="background-color: ${cor.corClara}; border-color: white;">
                                    <div class="flex items-start gap-4">
                                        <div class="p-4 rounded-2xl shadow-lg flex-shrink-0" style="background-color: ${cor.cor};">
                                            <span class="text-5xl">${cor.emoji}</span>
                                        </div>
                                        <div class="flex-1">
                                            <div class="text-xs font-bold mb-2 flex items-center gap-2" style="color: #1D9BF0;">
                                                <div class="w-2 h-2 rounded-full animate-pulse" style="background-color: #1D9BF0;"></div>
                                                PERGUNTA ${state.rodada}
                                            </div>
                                            <h2 class="text-3xl font-black leading-tight" style="color: #2C3E7E;">
                                                ${state.perguntaAtual.pergunta}
                                            </h2>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                                ${opcoesHTML}
                            </div>

                            ${state.mostrarResultado ? `
                                <div class="space-y-5 animate-fadeIn">
                                    <div class="rounded-3xl p-8 border-4 shadow-2xl" style="background-color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#D1FAE5' : '#FEE2E2'}; border-color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#2A9D8F' : '#E63946'};">
                                        <div class="flex items-center gap-4 mb-6">
                                            <div class="w-16 h-16 rounded-2xl flex items-center justify-center shadow-xl" style="background-color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#2A9D8F' : '#E63946'};">
                                                <div class="w-10 h-10 text-white">${state.respostaSelecionada === state.perguntaAtual.correta ? icons.check : icons.x}</div>
                                            </div>
                                            <div>
                                                <div class="text-4xl font-black" style="color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#064E3B' : '#7F1D1D'};">
                                                    ${state.respostaSelecionada === state.perguntaAtual.correta ? 'Parab√©ns! üéâ' : 'Quase l√°! üí™'}
                                                </div>
                                                <div class="text-lg font-bold" style="color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#065F46' : '#991B1B'};">
                                                    ${state.respostaSelecionada === state.perguntaAtual.correta ? '+100 pontos!' : 'Continue tentando!'}
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="bg-white/70 backdrop-blur-sm rounded-2xl p-6 border-2 border-white">
                                            <div class="flex items-start gap-3">
                                                <div class="flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center" style="background-color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#D1FAE5' : '#FEE2E2'};">
                                                    <div class="w-6 h-6" style="color: ${state.respostaSelecionada === state.perguntaAtual.correta ? '#2A9D8F' : '#E63946'};">${icons.sparkles}</div>
                                                </div>
                                                <div class="flex-1">
                                                    <div class="font-black mb-2" style="color: #2C3E7E;">Voc√™ sabia?</div>
                                                    <div class="leading-relaxed text-lg" style="color: #495057;">
                                                        ${state.perguntaAtual.explicacao}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <button
                                        onclick="proximaRodada()"
                                        class="w-full text-white py-6 rounded-2xl font-black text-xl shadow-2xl transition-all duration-300 hover:scale-105"
                                        style="background: linear-gradient(135deg, #1D9BF0 0%, #F77F00 100%);"
                                    >
                                        <div class="flex items-center justify-center gap-3">
                                            <div class="w-6 h-6">${icons.zap}</div>
                                            <span>Pr√≥xima Rodada</span>
                                            <div class="w-6 h-6">${icons.zap}</div>
                                        </div>
                                    </button>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        // Fun√ß√µes de controle
        window.comecarJogo = () => {
            state.fase = 'roleta';
            render();
        };

        window.girarRoleta = () => {
            if (state.girando) return;
            
            state.girando = true;
            const categorias = Object.keys(CATEGORIAS).filter(cat => PERGUNTAS[cat] && PERGUNTAS[cat].length > 0);
            const catEscolhida = categorias[Math.floor(Math.random() * categorias.length)];
            
            const rotacoesCompletas = 5 + Math.random() * 3;
            const anguloFatia = 360 / categorias.length;
            const anguloFinal = anguloFatia * categorias.indexOf(catEscolhida);
            const anguloTotal = (rotacoesCompletas * 360) + anguloFinal;
            
            // Primeiro render para mostrar estado "girando"
            render();
            
            // Pequeno delay para garantir que o DOM foi atualizado
            setTimeout(() => {
                const svg = document.getElementById('roletaSvg');
                if (svg) {
                    svg.style.transform = `rotate(${anguloTotal}deg)`;
                }
                state.anguloRoleta = anguloTotal;
            }, 50);
            
            setTimeout(() => {
                state.girando = false;
                state.categoriaAtual = catEscolhida;
                state.fase = 'escolhaCarta';
                render();
            }, 3550);
        };

        window.escolherCarta = (index) => {
            state.cartaSelecionada = index;
            render();
            
            setTimeout(() => {
                const perguntasDisponiveis = PERGUNTAS[state.categoriaAtual];
                const pergunta = perguntasDisponiveis[Math.floor(Math.random() * perguntasDisponiveis.length)];
                state.perguntaAtual = pergunta;
                state.fase = 'quiz';
                render();
            }, 800);
        };

        window.responder = (index) => {
            state.respostaSelecionada = index;
            state.mostrarResultado = true;
            
            const acertou = index === state.perguntaAtual.correta;
            
            if (acertou) {
                state.pontos += 100;
                state.acertos += 1;
            }
            
            render();
        };

        window.proximaRodada = () => {
            state.rodada += 1;
            state.fase = 'roleta';
            state.categoriaAtual = null;
            state.cartaSelecionada = null;
            state.perguntaAtual = null;
            state.respostaSelecionada = null;
            state.mostrarResultado = false;
            render();
        };

        // Iniciar o jogo
        render();
    </script>
</body>
</html>